<!DOCTYPE html>
<html>
<head>
    <title>课堂消消乐</title>
    <style>
        body {
            background-color: #fff5e6; /* 奶白色背景 */
            margin: 0;
            padding: 20px;
            font-family: "楷体", "KaiTi", serif; /* 默认字体为楷体 */
        }
        
        /* 标题样式 */
        h1 {
            text-align: center;
            color: #333;
            font-size: 2.5em;
            margin-bottom: 30px;
            font-family: "楷体", "KaiTi", serif; /* 标题文本楷体 */
        }
        
        /* 拼音样式 */
        .pinyin {
            font-family: "Comic Sans MS", cursive; /* 拼音字体 */
            font-size: 0.6em;
            display: block;
            margin-bottom: 5px;
            color: #666;
            letter-spacing: 0.1em; /* 拼音间距 */
        }
        
        /* 游戏区域 */
        #gameBoard {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            max-width: 800px;
            margin: 0 auto;
        }
        
        /* 泡泡样式 */
        .bubble {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            color: white;
            font-weight: bold;
            font-size: 1.2em;
            transform: translateZ(0);
            transition: transform 0.3s, opacity 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            font-family: "楷体", "KaiTi", serif; /* 泡泡文字楷体 */
        }
        
        .bubble:hover {
            transform: translateZ(20px);
        }
        
        /* 泡泡内的拼音样式 */
        .bubble .pinyin {
            font-family: "Comic Sans MS", cursive; /* 拼音字体 */
            font-size: 0.8em;
            margin-bottom: 5px;
            letter-spacing: 0.1em; /* 拼音间距 */
        }
        
        /* 成功提示 */
        #message {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px 50px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
            text-align: center;
            font-family: "楷体", "KaiTi", serif; /* 提示信息楷体 */
        }
        
        #message h2 {
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        #message p {
            font-family: "Comic Sans MS", cursive; /* 英文翻译字体 */
            font-size: 20px;
            color: #666;
        }
    </style>
</head>
<body>
    <h1>
        <span class="pinyin">Kè táng xiāo xiāo lè</span>
        课堂消消乐
    </h1>
    <div id="gameBoard"></div>
    <div id="message">
        <h2>恭喜你挑战成功！</h2>
        <p>Congratulations! You've completed the challenge!</p>
    </div>

    <script>
        const words = [
            { chinese: '水', pinyin: 'shuǐ', english: 'water' },
            { chinese: '茶', pinyin: 'chá', english: 'tea' },
            { chinese: '咖啡', pinyin: 'kā fēi', english: 'coffee' },
            { chinese: '果汁', pinyin: 'guǒ zhī', english: 'orange juice' },
            { chinese: '可乐', pinyin: 'kě lè', english: 'cola' },
            { chinese: '牛奶', pinyin: 'niú nǎi', english: 'milk' },
            { chinese: '酒', pinyin: 'jiǔ', english: 'wine' },
            { chinese: '饮料', pinyin: 'yǐn liào', english: 'beverage' }
        ];
        
        const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', 
                      '#FFEEAD', '#D4A5A5', '#A2836E', '#EAC9C1'];
        
        let firstClick = null;
        let gameBoard = document.getElementById('gameBoard');
        
        // 创建游戏泡泡
        function createBubbles() {
            let allWords = [];
            words.forEach(word => {
                allWords.push({ type: 'chinese', text: word.chinese, pinyin: word.pinyin, match: word.english });
                allWords.push({ type: 'english', text: word.english, match: word.chinese });
            });
            
            allWords.sort(() => Math.random() - 0.5);
            
            allWords.forEach((word, index) => {
                let bubble = document.createElement('div');
                bubble.className = 'bubble';
                bubble.style.backgroundColor = colors[index % colors.length];
                
                if (word.type === 'chinese') {
                    // 中文泡泡：显示拼音和文字
                    bubble.innerHTML = `
                        <div class="pinyin">${word.pinyin}</div>
                        <div>${word.text}</div>
                    `;
                } else {
                    // 英文泡泡：只显示文字
                    bubble.textContent = word.text;
                }
                
                bubble.addEventListener('click', function() {
                    handleClick(this, word);
                });
                
                gameBoard.appendChild(bubble);
            });
        }
        
        // 处理点击事件
        function handleClick(bubble, word) {
            if (bubble.classList.contains('matched')) return;
            
            if (!firstClick) {
                firstClick = { element: bubble, info: word };
                bubble.style.opacity = '0.7';
            } else {
                const firstWord = firstClick.info;
                if (firstWord.match === word.text || word.match === firstWord.text) {
                    firstClick.element.classList.add('matched');
                    bubble.classList.add('matched');
                    firstClick.element.style.opacity = '0';
                    bubble.style.opacity = '0';
                } else {
                    firstClick.element.style.opacity = '1';
                }
                firstClick = null;
                
                checkWin();
            }
        }
        
        // 检查是否获胜
        function checkWin() {
            let remaining = [...document.querySelectorAll('.bubble')]
                           .filter(b => !b.classList.contains('matched'));
            if (remaining.length === 0) {
                document.getElementById('message').style.display = 'block';
            }
        }
        
        // 初始化游戏
        createBubbles();
    </script>
</body>
</html>
